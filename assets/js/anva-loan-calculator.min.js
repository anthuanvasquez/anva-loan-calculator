!function(t,e,a){function n(t){return t.numberFormat(2)}var o=function(){var t=/d{1,4}|m{1,4}|yy(?:yy)?|([HhMsTt])\1?|[LloSZ]|"[^"]*"|'[^']*'/g,e=/\b(?:[PMCEA][SDP]T|(?:Pacific|Mountain|Central|Eastern|Atlantic) (?:Standard|Daylight|Prevailing) Time|(?:GMT|UTC)(?:[-+]\d{4})?)\b/g,n=/[^-+\dA-Z]/g,r=function(t,e){for(t=String(t),e=e||2;t.length<e;)t="0"+t;return t};return function(l,d,i){var m=o;if(1!=arguments.length||"[object String]"!=Object.prototype.toString.call(l)||/\d/.test(l)||(d=l,l=a),l=l?new Date(l):new Date,isNaN(l))throw SyntaxError("invalid date");d=String(m.masks[d]||d||m.masks["default"]),"UTC:"==d.slice(0,4)&&(d=d.slice(4),i=!0);var s=i?"getUTC":"get",u=l[s+"Date"](),y=l[s+"Day"](),c=l[s+"Month"](),h=l[s+"FullYear"](),g=l[s+"Hours"](),p=l[s+"Minutes"](),v=l[s+"Seconds"](),M=l[s+"Milliseconds"](),f=i?0:l.getTimezoneOffset(),b={d:u,dd:r(u),ddd:m.i18n.dayNames[y],dddd:m.i18n.dayNames[y+7],m:c+1,mm:r(c+1),mmm:m.i18n.monthNames[c],mmmm:m.i18n.monthNames[c+12],yy:String(h).slice(2),yyyy:h,h:g%12||12,hh:r(g%12||12),H:g,HH:r(g),M:p,MM:r(p),s:v,ss:r(v),l:r(M,3),L:r(M>99?Math.round(M/10):M),t:12>g?"a":"p",tt:12>g?"am":"pm",T:12>g?"A":"P",TT:12>g?"AM":"PM",Z:i?"UTC":(String(l).match(e)||[""]).pop().replace(n,""),o:(f>0?"-":"+")+r(100*Math.floor(Math.abs(f)/60)+Math.abs(f)%60,4),S:["th","st","nd","rd"][u%10>3?0:(u%100-u%10!=10)*u%10]};return d.replace(t,function(t){return t in b?b[t]:t.slice(1,t.length-1)})}}();o.masks={"default":"ddd mmm dd yyyy HH:MM:ss",shortDate:"m/d/yy",mediumDate:"mmm d, yyyy",longDate:"mmmm d, yyyy",fullDate:"dddd, mmmm d, yyyy",shortTime:"h:MM TT",mediumTime:"h:MM:ss TT",longTime:"h:MM:ss TT Z",isoDate:"yyyy-mm-dd",isoTime:"HH:MM:ss",isoDateTime:"yyyy-mm-dd'T'HH:MM:ss",isoUtcDateTime:"UTC:yyyy-mm-dd'T'HH:MM:ss'Z'"},o.i18n={dayNames:["Sun","Mon","Tue","Wed","Thu","Fri","Sat","Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],monthNames:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec","January","February","March","April","May","June","July","August","September","October","November","December"]},Date.prototype.format=function(t,e){return o(this,t,e)},Date.prototype.addDays=function(t){var e=new Date(this.valueOf());return e.setDate(e.getDate()+t),e},Number.prototype.numberFormat=function(t,e,a){e="undefined"!=typeof e?e:".",a="undefined"!=typeof a?a:",";var n=this.toFixed(t).split(".");return n[0]=n[0].replace(/\B(?=(\d{3})+(?!\d))/g,a),n.join(e)};var r={loanForm:e.getElementById("loanForm"),loanSubmit:e.getElementById("loanSubmit"),loanClear:e.getElementById("loanClear"),init:function(){var t=e.getElementById("pay"),a=e.getElementById("pay_years");this.loanSubmit&&this.loanSubmit.addEventListener("click",r.validateFields),this.loanClear&&this.loanClear.addEventListener("click",r.clearScreen),t&&t.addEventListener("change",r.yearConvertion,!1),a&&a.addEventListener("change",r.monthConvertion,!1)},validateFields:function(){var t=top.document.loanForm.firstName.value,a=top.document.loanForm.amt.value,n=top.document.loanForm.pay.value,o=top.document.loanForm.rate.value,l=e.getElementById("loanMessage");return""===t?(l.innerHTML="Por favor introduce tu nombre.",top.document.loanForm.firstName.value="",top.document.loanForm.firstName.focus(),!1):""===a||isNaN(parseFloat(a))||0===a?(l.innerHTML="Por favor ingrese un monto valido para el prestamo.",top.document.loanForm.amt.value="",top.document.loanForm.amt.focus(),!1):""===n||isNaN(parseFloat(n))||0===n?(l.innerHTML="Por favor, introduzca un nÃºmero de pago vÃ¡lido.",top.document.loanForm.pay.value="",top.document.loanForm.pay.focus(),!1):""===o||isNaN(parseFloat(o))||0===o?(l.innerHTML="Por favor introduce la tasa de interÃ©s anual.",top.document.loanForm.rate.value="",top.document.loanForm.rate.focus(),!1):void(e.getElementById("emailCheck").checked&&""===top.document.loanForm.email.value?l.innerHTML="No deje el campo de email vacio.":r.show())},show:function(){var t=top.document.loanForm.firstName.value,a=parseFloat(top.document.loanForm.amt.value),l=parseInt(top.document.loanForm.pay.value),d=parseFloat(top.document.loanForm.rate.value),i=e.getElementById("loan_overlay"),m=top.document.loanForm.pay_type.value,s=0;switch(i.className+="loan__overlay active",d/=100,m){case"monthly":s=12;break;case"biweekly":s=24,l=2*l;break;case"weekly":s=48,l=4*l;break;case"quarterly":s=4,l/=3;break;case"semi-annual":s=6,l/=6;break;case"annual":s=1,l/=12}var u=0,y=new Date,c=d/s,h=a*c/(1-Math.pow(1+c,-l)),g=h*l,p=g-a,v="",M="";v+="<h2 class='loan__heading loan__heading--overview'>Descripcion de Prestamo</h2>",v+="<table class='loan__table loan__table--bordered loan__table--overview'>",v+="<tr>",v+="<td>Beneficiario:</td>",v+="<td align='right'>"+t+"</td>",v+="</tr>",v+="<tr>",v+="<td>Importe del Prestamo:</td>",v+="<td align='right'>$"+a+"</td>",v+="</tr>",v+="<tr>",v+="<td>Numero de Pagos:</td>",v+="<td align='right'>"+l+"</td>",v+="</tr>",v+="<tr>",v+="<td>Tasa Anual:</td>",v+="<td align='right'>"+n(d)+"</td>",v+="</tr>",v+="<tr>",v+="<td>Tasa Mensual:</td>",v+="<td align='right'>"+n(c)+"</td>",v+="</tr>",v+="<tr>",v+="<td>Pago Programado:</td>",v+="<td align='right'>$"+n(h)+"</td>",v+="</tr>",v+="<tr>",v+="<td>Total a Pagar:</td>",v+="<td align='right'>$"+n(g)+"</td>",v+="</tr>",v+="<tr>",v+="<td>Total de InterÃ©s:</td>",v+="<td align='right'>$"+n(p)+"</td>",v+="</tr>",v+="</table>",M+="<h2 class='loan__heading loan__heading--history'>Tabla de Amortizacion</h2>",M+="<table class='loan__table loan__table--striped loan__table--history table table-striped'>",M+="<tr>",M+="<th>Pay No.</th>",M+="<th>Date</th>",M+="<th>Pago Programado</th>",M+="<th>Rate</th>",M+="<th>Principal</th>",M+="<th>Balance</th>",M+="</tr>",M+="<tr>",M+="<td align='center'>0</td>",M+="<td>&nbsp;</td>",M+="<td>&nbsp;</td>",M+="<td>&nbsp;</td>",M+="<td>&nbsp;</td>",M+="<td align='right'>"+n(a)+"</td>",M+="</tr>";for(var f,b,T=a,F=1;l>=F;){var D=c*T,_=h-D,T=T-_,f=y.addDays(u),b=o(f,"dd/mm/yyyy").toString();if("biweekly"===m)u+=15;else if("weekly"===m)u+=7;else if("quarterly"===m)u+=90;else if("semi-annual"===m)u+=180;else if("annual"===m){var N=f.getFullYear();u+=N%4!==0||N%100===0&&N%400!==0?365:366}else u+=30;M+="<tr>",M+="<td align='center'>"+F+"</td>",M+="<td align='right'>"+b+"</td>",M+="<td align='right'>"+n(h)+"</td>",M+="<td align='right'>"+n(D)+"</td>",M+="<td align='right'>"+n(_)+"</td>",M+="<td align='right'>"+n(T)+"</td>",M+="</tr>",F++}M+="</table>",M+="<button type='button' id='loanPrint' class='loand__button loan__button--print button'>Imprimir</button>",e.getElementById("pmt").innerHTML=v,e.getElementById("det").innerHTML=M,e.getElementById("loanMessage").innerHTML="",i.className="loan__overlay",r.printDiv()},sendEmail:function(){},clearScreen:function(){var t=new Date;top.document.loanForm.firstName.value="",top.document.loanForm.pay.value="",top.document.loanForm.pay_years.value="",top.document.loanForm.rate.value="",top.document.loanForm.pay_type.value="monthly",top.document.loanForm.amt.value="",top.document.loanForm.days.value=t.getDate(),top.document.loanForm.months.selectedIndex=t.getMonth(),top.document.loanForm.years.value=t.getFullYear(),e.getElementById("pmt").innerHTML="",e.getElementById("det").innerHTML="",e.getElementById("loanMessage").innerHTML=""},yearConvertion:function(){var t=0,a=top.document.loanForm.pay.value;a>0&&(t=.0833334*a),e.getElementById("pay_years").value=Math.round(t)},monthConvertion:function(){var t=0,a=top.document.loanForm.pay_years.value;a>0&&(t=12*a),e.getElementById("pay").value=Math.round(t)},printDiv:function(){var t=e.getElementById("loanPrint");t&&t.addEventListener("click",r.print)},print:function(){var a=e.getElementById("print"),n=t.open("","Loan Print-Window","width=800,height=800");n.document.open(),n.document.write('<html><head><link rel="stylesheet" href="'+loanCalcObject.plugin_css_url+'" type="text/css" media="all" /></head><body onload="window.print();">'+a.innerHTML+"</body></html>"),n.document.close()}};t.onload=r.init}(window,document,void 0);
