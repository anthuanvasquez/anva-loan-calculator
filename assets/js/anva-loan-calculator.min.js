"use strict";function check(){var t=loanForm.firstName.value,e=loanForm.amt.value,a=loanForm.pay.value,n=loanForm.rate.value,o=document.getElementById("loanMessage");return""===t?(o.innerHTML="Por favor introduce tu nombre.",top.document.loanForm.firstName.value="",top.document.loanForm.firstName.focus(),!1):""===e||isNaN(parseFloat(e))||0===e?(o.innerHTML="Por favor ingrese un monto valido para el prestamo.",top.document.loanForm.amt.value="",top.document.loanForm.amt.focus(),!1):""===a||isNaN(parseFloat(a))||0===a?(o.innerHTML="Por favor, introduzca un nÃºmero de pago vÃ¡lido.",top.document.loanForm.pay.value="",top.document.loanForm.pay.focus(),!1):""===n||isNaN(parseFloat(n))||0===n?(o.innerHTML="Por favor introduce la tasa de interÃ©s anual.",top.document.loanForm.rate.value="",top.document.loanForm.rate.focus(),!1):checkLoan()?void show():!1}function checkLoan(){top.document.loanForm.pay.value;return!0}function checkAmount(){}function fixVal(t,e,a,n){var o,r,d,l;for(t*=Math.pow(10,a),t=Math.round(t),r=new String(t),d=r.length;a>d;)r="0"+r,d+=1;if(a>0&&(r=r.substring(0,d-a)+"."+r.substring(d-a,d)),r.length<e&&e>0)for(l=e-r.length,o=0;l>o;o+=1)r=n+r;return r}function show(){var t=top.document.loanForm.firstName.value,e=parseFloat(top.document.loanForm.amt.value),a=parseInt(top.document.loanForm.pay.value),n=parseFloat(top.document.loanForm.rate.value),o=document.getElementById("loan_overlay"),r=top.document.loanForm.pay_type.value,d=0;switch(o.className+="loan__overlay active",n/=100,r){case"monthly":d=12;break;case"biweekly":d=24,a=2*a;break;case"weekly":d=48,a=4*a;break;case"quarterly":d=4,a/=3;break;case"semi-annual":d=6,a/=6;break;case"annual":d=1,a/=12}var l=0,i=new Date,m=n/d,s=e*m/(1-Math.pow(1+m,-a)),u=s*a,c=u-e,y="",h="";y+="<h2 class='loan__heading loan__heading--overview'>Descripcion de Prestamo</h2>",y+="<table class='loan__table--overview table table-bordered'>",y+="<tr>",y+="<td>Beneficiario:</td>",y+="<td align='right'>"+t+"</td>",y+="</tr>",y+="<tr>",y+="<td>Importe del Prestamo:</td>",y+="<td align='right'>$"+e+"</td>",y+="</tr>",y+="<tr>",y+="<td>Numero de Pagos:</td>",y+="<td align='right'>"+a+"</td>",y+="</tr>",y+="<tr>",y+="<td>Tasa Anual:</td>",y+="<td align='right'>"+fixVal(n,0,4," ")+"</td>",y+="</tr>",y+="<tr>",y+="<td>Tasa Mensual:</td>",y+="<td align='right'>"+fixVal(m,0,5," ")+"</td>",y+="</tr>",y+="<tr>",y+="<td>Pago Programado:</td>",y+="<td align='right'>$"+fixVal(s,0,2," ")+"</td>",y+="</tr>",y+="<tr>",y+="<td>Total a Pagar:</td>",y+="<td align='right'>$"+fixVal(u,0,2," ")+"</td>",y+="</tr>",y+="<tr>",y+="<td>Total de InterÃ©s:</td>",y+="<td align='right'>$"+fixVal(c,0,2,",")+"</td>",y+="</tr>",y+="</table>",h+="<h2 class='loan__heading loan__heading--history'>Tabla de Amortizacion</h2>",h+="<table class='loan__table--history table table-striped'>",h+="<tr>",h+="<th>Pay No.</th>",h+="<th>Date</th>",h+="<th>Pago Programado</th>",h+="<th>Rate</th>",h+="<th>Principal</th>",h+="<th>Balance</th>",h+="</tr>",h+="<tr>",h+="<td align='center'>0</td>",h+="<td>&nbsp;</td>",h+="<td>&nbsp;</td>",h+="<td>&nbsp;</td>",h+="<td>&nbsp;</td>",h+="<td align='right'>"+fixVal(e,0,2,",")+"</td>",h+="</tr>",F=e;for(var p,g,v=1;a>=v;){var f=m*F,M=s-f,F=F-M,p=i.addDays(l),g=dateFormat(p,"dd/mm/yyyy").toString();if("biweekly"===r)l+=15;else if("weekly"===r)l+=7;else if("quarterly"===r)l+=90;else if("semi-annual"===r)l+=180;else if("annual"===r){var T=p.getFullYear();l+=T%4!==0||T%100===0&&T%400!==0?365:366}else l+=30;h+="<tr>",h+="<td align='center'>"+v+"</td>",h+="<td align='right'>"+g+"</td>",h+="<td align='right'>"+fixVal(s,0,2," ")+"</td>",h+="<td align='right'>"+fixVal(f,0,2," ")+"</td>",h+="<td align='right'>"+fixVal(M,0,2," ")+"</td>",h+="<td align='right'>"+fixVal(F,0,2," ")+"</td>",h+="</tr>",v++}h+="</table>",h+="<a class='print' href='javascript:printDiv();'>Imprimir</a>",document.getElementById("pmt").innerHTML=y,document.getElementById("det").innerHTML=h,o.className="loan__overlay"}function clearScreen(){top.document.loanForm.firstName.value="",top.document.loanForm.pay.value="",top.document.loanForm.pay_years.value="",top.document.loanForm.rate.value="",top.document.loanForm.pay_type.value="monthly",top.document.loanForm.amt.value="",top.document.getElementById("pmt").innerHTML="",top.document.getElementById("det").innerHTML="";var t=new Date;top.document.loanForm.days.value=t.getDate(),top.document.loanForm.months.selectedIndex=t.getMonth(),top.document.loanForm.years.value=t.getFullYear()}function changeYearsConversion(){var t=0,e=top.document.loanForm.pay.value;e>0&&(t=.0833333333*e),document.getElementById("pay_years").value=Math.round(t)}function changeMonthConversion(){var t=0,e=top.document.loanForm.pay_years.value;e>0&&(t=12*e),document.getElementById("pay").value=Math.round(t)}function printDiv(){var t=document.getElementById("print"),e=window.open("","Print-Window","width=800,height=800");e.document.open(),e.document.write('<html><head><link rel="stylesheet" href="'+plugin_url+'"assets/css/styles.css" type="text/css" media="all" /></head><body onload="window.print();">'+t.innerHTML+"</body></html>"),e.document.close()}var dateFormat=function(){var t=/d{1,4}|m{1,4}|yy(?:yy)?|([HhMsTt])\1?|[LloSZ]|"[^"]*"|'[^']*'/g,e=/\b(?:[PMCEA][SDP]T|(?:Pacific|Mountain|Central|Eastern|Atlantic) (?:Standard|Daylight|Prevailing) Time|(?:GMT|UTC)(?:[-+]\d{4})?)\b/g,a=/[^-+\dA-Z]/g,n=function(t,e){for(t=String(t),e=e||2;t.length<e;)t="0"+t;return t};return function(o,r,d){var l=dateFormat;if(1!=arguments.length||"[object String]"!=Object.prototype.toString.call(o)||/\d/.test(o)||(r=o,o=void 0),o=o?new Date(o):new Date,isNaN(o))throw SyntaxError("invalid date");r=String(l.masks[r]||r||l.masks["default"]),"UTC:"==r.slice(0,4)&&(r=r.slice(4),d=!0);var i=d?"getUTC":"get",m=o[i+"Date"](),s=o[i+"Day"](),u=o[i+"Month"](),c=o[i+"FullYear"](),y=o[i+"Hours"](),h=o[i+"Minutes"](),p=o[i+"Seconds"](),g=o[i+"Milliseconds"](),v=d?0:o.getTimezoneOffset(),f={d:m,dd:n(m),ddd:l.i18n.dayNames[s],dddd:l.i18n.dayNames[s+7],m:u+1,mm:n(u+1),mmm:l.i18n.monthNames[u],mmmm:l.i18n.monthNames[u+12],yy:String(c).slice(2),yyyy:c,h:y%12||12,hh:n(y%12||12),H:y,HH:n(y),M:h,MM:n(h),s:p,ss:n(p),l:n(g,3),L:n(g>99?Math.round(g/10):g),t:12>y?"a":"p",tt:12>y?"am":"pm",T:12>y?"A":"P",TT:12>y?"AM":"PM",Z:d?"UTC":(String(o).match(e)||[""]).pop().replace(a,""),o:(v>0?"-":"+")+n(100*Math.floor(Math.abs(v)/60)+Math.abs(v)%60,4),S:["th","st","nd","rd"][m%10>3?0:(m%100-m%10!=10)*m%10]};return r.replace(t,function(t){return t in f?f[t]:t.slice(1,t.length-1)})}}();dateFormat.masks={"default":"ddd mmm dd yyyy HH:MM:ss",shortDate:"m/d/yy",mediumDate:"mmm d, yyyy",longDate:"mmmm d, yyyy",fullDate:"dddd, mmmm d, yyyy",shortTime:"h:MM TT",mediumTime:"h:MM:ss TT",longTime:"h:MM:ss TT Z",isoDate:"yyyy-mm-dd",isoTime:"HH:MM:ss",isoDateTime:"yyyy-mm-dd'T'HH:MM:ss",isoUtcDateTime:"UTC:yyyy-mm-dd'T'HH:MM:ss'Z'"},dateFormat.i18n={dayNames:["Sun","Mon","Tue","Wed","Thu","Fri","Sat","Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],monthNames:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec","January","February","March","April","May","June","July","August","September","October","November","December"]},Date.prototype.format=function(t,e){return dateFormat(this,t,e)},Date.prototype.addDays=function(t){var e=new Date(this.valueOf());return e.setDate(e.getDate()+t),e};var loanForm=top.document.loanForm;
